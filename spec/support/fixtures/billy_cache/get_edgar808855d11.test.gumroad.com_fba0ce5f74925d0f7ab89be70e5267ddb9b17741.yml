---
:scope:
:url: http://edgar808855d11.test.gumroad.com/packs-test/js/components_Profile_EditSections_tsx-components_Profile_EditSections_WishlistsSectionView_tsx.js
:body: ''
:status: 200
:method: get
:headers:
  last-modified: Tue, 28 Oct 2025 16:39:24 GMT
  content-type: text/javascript
  cache-control: public, max-age=3600
  vary: Origin
  x-original-headers-class: Hash
  x-content-type-options: nosniff
  x-xss-protection: 1; mode=block
  x-download-options: noopen
  x-permitted-cross-domain-policies: none
  content-security-policy: 'default-src ''self''; child-src * data: blob:; connect-src
    ''self'' blob: www.dropbox.com api.dropboxapi.com s3.amazonaws.com/gumroad-specs
    s3.amazonaws.com/gumroad-specs/ gumroad-specs.s3.amazonaws.com gumroad-specs.s3.amazonaws.com/
    www.google.com www.gstatic.com *.facebook.com *.facebook.net *.google-analytics.com
    *.g.doubleclick.net *.googletagmanager.com analytics.google.com *.analytics.google.com
    staging-files.gumroad.com/ d1jmbc8d0c0hid.cloudfront.net/ *.braintreegateway.com
    www.paypalobjects.com *.paypal.com *.braintree-api.com iframe.ly help.gumroad.com
    app.test.gumroad.com:31337 wss://cable.test.gumroad.com ws://cable.test.gumroad.com:8080
    wss://cable.test.gumroad.com:8080 localhost:9000/gumroad-specs localhost:9000/gumroad-specs/;
    font-src * data: blob:; frame-src * data: blob:; img-src * data: blob:; media-src
    * data: blob:; object-src * data: blob:; script-src ''self'' ''unsafe-eval'' ajax.cloudflare.com
    static.cloudflareinsights.com js.stripe.com api.stripe.com connect-js.stripe.com
    *.braintreegateway.com *.braintree-api.com www.paypalobjects.com *.paypal.com
    *.google-analytics.com *.googletagmanager.com optimize.google.com www.googleadservices.com
    www.google.com www.gstatic.com *.facebook.net *.facebook.com www.dropbox.com s.ytimg.com
    cdn.iframe.ly platform.twitter.com cdn.jwplayer.com *.jwpcdn.com gumroad.us3.list-manage.com
    analytics.twitter.com help.gumroad.com unpkg.com/@lottiefiles/lottie-player@latest/
    app.test.gumroad.com:31337 test-custom-domain.gumroad.com:31337 test.gumroad.com:31337;
    style-src ''self'' ''unsafe-inline'' s.ytimg.com optimize.google.com fonts.googleapis.com
    blob:; worker-src * data: blob:'
  Connection: close
  Content-Length: '62922'
:content: |-
  "use strict";
  (globalThis["webpackChunk"] = globalThis["webpackChunk"] || []).push([["components_Profile_EditSections_tsx-components_Profile_EditSections_WishlistsSectionView_tsx"],{

  /***/ "../components/Profile/EditSections.tsx":
  /*!**********************************************!*\
    !*** ../components/Profile/EditSections.tsx ***!
    \**********************************************/
  /***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

  __webpack_require__.r(__webpack_exports__);
  /* harmony export */ __webpack_require__.d(__webpack_exports__, {
  /* harmony export */   AddSectionButton: () => (/* binding */ AddSectionButton),
  /* harmony export */   EditSection: () => (/* binding */ EditSection),
  /* harmony export */   EditorMenu: () => (/* binding */ EditorMenu),
  /* harmony export */   EditorSubmenu: () => (/* binding */ EditorSubmenu),
  /* harmony export */   ProductList: () => (/* binding */ ProductList),
  /* harmony export */   ReducerContext: () => (/* binding */ ReducerContext),
  /* harmony export */   SectionLayout: () => (/* binding */ SectionLayout),
  /* harmony export */   SectionToolbar: () => (/* binding */ SectionToolbar),
  /* harmony export */   useReducer: () => (/* binding */ useReducer),
  /* harmony export */   useSectionImageUploadSettings: () => (/* binding */ useSectionImageUploadSettings)
  /* harmony export */ });
  /* harmony import */ var _rails_activestorage__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @rails/activestorage */ "../../../node_modules/@rails/activestorage/app/assets/javascripts/activestorage.esm.js");
  /* harmony import */ var _tiptap_react__WEBPACK_IMPORTED_MODULE_24__ = __webpack_require__(/*! @tiptap/react */ "../../../node_modules/@tiptap/react/dist/index.js");
  /* harmony import */ var lodash_debounce__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! lodash/debounce */ "../../../node_modules/lodash/debounce.js");
  /* harmony import */ var lodash_debounce__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(lodash_debounce__WEBPACK_IMPORTED_MODULE_1__);
  /* harmony import */ var lodash_isEqual__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! lodash/isEqual */ "../../../node_modules/lodash/isEqual.js");
  /* harmony import */ var lodash_isEqual__WEBPACK_IMPORTED_MODULE_2___default = /*#__PURE__*/__webpack_require__.n(lodash_isEqual__WEBPACK_IMPORTED_MODULE_2__);
  /* harmony import */ var lodash_sortBy__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! lodash/sortBy */ "../../../node_modules/lodash/sortBy.js");
  /* harmony import */ var lodash_sortBy__WEBPACK_IMPORTED_MODULE_3___default = /*#__PURE__*/__webpack_require__.n(lodash_sortBy__WEBPACK_IMPORTED_MODULE_3__);
  /* harmony import */ var react__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! react */ "../../../node_modules/react/index.js");
  /* harmony import */ var react__WEBPACK_IMPORTED_MODULE_4___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_4__);
  /* harmony import */ var react_sortablejs__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! react-sortablejs */ "../../../node_modules/react-sortablejs/dist/index.js");
  /* harmony import */ var react_sortablejs__WEBPACK_IMPORTED_MODULE_5___default = /*#__PURE__*/__webpack_require__.n(react_sortablejs__WEBPACK_IMPORTED_MODULE_5__);
  /* harmony import */ var ts_safe_cast__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! ts-safe-cast */ "../../../node_modules/ts-safe-cast/index.ts");
  /* harmony import */ var $app_data_profile_settings__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! $app/data/profile_settings */ "../data/profile_settings.ts");
  /* harmony import */ var $app_parsers_product__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! $app/parsers/product */ "../parsers/product.ts");
  /* harmony import */ var $app_utils_assert__WEBPACK_IMPORTED_MODULE_9__ = __webpack_require__(/*! $app/utils/assert */ "../utils/assert.ts");
  /* harmony import */ var $app_utils_classNames__WEBPACK_IMPORTED_MODULE_10__ = __webpack_require__(/*! $app/utils/classNames */ "../utils/classNames.ts");
  /* harmony import */ var $app_utils_file__WEBPACK_IMPORTED_MODULE_11__ = __webpack_require__(/*! $app/utils/file */ "../utils/file.ts");
  /* harmony import */ var $app_utils_request__WEBPACK_IMPORTED_MODULE_12__ = __webpack_require__(/*! $app/utils/request */ "../utils/request.ts");
  /* harmony import */ var $app_components_Icons__WEBPACK_IMPORTED_MODULE_13__ = __webpack_require__(/*! $app/components/Icons */ "../components/Icons.tsx");
  /* harmony import */ var $app_components_Popover__WEBPACK_IMPORTED_MODULE_14__ = __webpack_require__(/*! $app/components/Popover */ "../components/Popover.tsx");
  /* harmony import */ var $app_components_Product_CardGrid__WEBPACK_IMPORTED_MODULE_15__ = __webpack_require__(/*! $app/components/Product/CardGrid */ "../components/Product/CardGrid.tsx");
  /* harmony import */ var $app_components_Profile_EditSections_WishlistsSectionView__WEBPACK_IMPORTED_MODULE_16__ = __webpack_require__(/*! $app/components/Profile/EditSections/WishlistsSectionView */ "../components/Profile/EditSections/WishlistsSectionView.tsx");
  /* harmony import */ var $app_components_RichTextEditor__WEBPACK_IMPORTED_MODULE_17__ = __webpack_require__(/*! $app/components/RichTextEditor */ "../components/RichTextEditor.tsx");
  /* harmony import */ var $app_components_Select__WEBPACK_IMPORTED_MODULE_18__ = __webpack_require__(/*! $app/components/Select */ "../components/Select.tsx");
  /* harmony import */ var $app_components_server_components_Alert__WEBPACK_IMPORTED_MODULE_19__ = __webpack_require__(/*! $app/components/server-components/Alert */ "../components/server-components/Alert.tsx");
  /* harmony import */ var $app_components_TypeSafeOptionSelect__WEBPACK_IMPORTED_MODULE_20__ = __webpack_require__(/*! $app/components/TypeSafeOptionSelect */ "../components/TypeSafeOptionSelect.tsx");
  /* harmony import */ var $app_components_useOnChange__WEBPACK_IMPORTED_MODULE_21__ = __webpack_require__(/*! $app/components/useOnChange */ "../components/useOnChange.ts");
  /* harmony import */ var $app_components_useRefToLatest__WEBPACK_IMPORTED_MODULE_22__ = __webpack_require__(/*! $app/components/useRefToLatest */ "../components/useRefToLatest.ts");
  /* harmony import */ var _Sections__WEBPACK_IMPORTED_MODULE_23__ = __webpack_require__(/*! ./Sections */ "../components/Profile/Sections.tsx");
  /* provided dependency */ var Routes = __webpack_require__(/*! $app/utils/routes */ "../utils/routes.js");


























  const ReducerContext = react__WEBPACK_IMPORTED_MODULE_4__.createContext(null);
  const useReducer = () => (0,$app_utils_assert__WEBPACK_IMPORTED_MODULE_9__.assertDefined)(react__WEBPACK_IMPORTED_MODULE_4__.useContext(ReducerContext));
  const useSaveSection = (initialSection) => {
    const [savedSection, setSavedSection] = react__WEBPACK_IMPORTED_MODULE_4__.useState(initialSection);
    return async (section) => {
      if (lodash_isEqual__WEBPACK_IMPORTED_MODULE_2___default()(savedSection, section))
        return;
      try {
        const response = await (0,$app_utils_request__WEBPACK_IMPORTED_MODULE_12__.request)({
          method: "PATCH",
          url: Routes.profile_section_path(section.id),
          data: section,
          accept: "json"
        });
        if (!response.ok)
          throw new $app_utils_request__WEBPACK_IMPORTED_MODULE_12__.ResponseError((0,ts_safe_cast__WEBPACK_IMPORTED_MODULE_6__.cast)(await response.json(), [5, [0, "error", 0]]).error);
        (0,$app_components_server_components_Alert__WEBPACK_IMPORTED_MODULE_19__.showAlert)("Changes saved!", "success");
        setSavedSection(section);
      } catch (e) {
        (0,$app_utils_request__WEBPACK_IMPORTED_MODULE_12__.assertResponseError)(e);
        (0,$app_components_server_components_Alert__WEBPACK_IMPORTED_MODULE_19__.showAlert)(e.message, "error");
      }
    };
  };
  const useSectionImageUploadSettings = () => {
    const [imagesUploading, setImagesUploading] = react__WEBPACK_IMPORTED_MODULE_4__.useState(/* @__PURE__ */ new Set());
    const imageUploadSettings = react__WEBPACK_IMPORTED_MODULE_4__.useMemo(() => ({
      isUploading: imagesUploading.size > 0,
      onUpload: (file) => {
        setImagesUploading((prev) => new Set(prev).add(file));
        return new Promise((resolve, reject) => {
          const upload = new _rails_activestorage__WEBPACK_IMPORTED_MODULE_0__.DirectUpload(file, Routes.rails_direct_uploads_path());
          upload.create((error, blob) => {
            setImagesUploading((prev) => {
              const updated = new Set(prev);
              updated.delete(file);
              return updated;
            });
            if (error)
              reject(error);
            else
              (0,$app_utils_request__WEBPACK_IMPORTED_MODULE_12__.request)({
                method: "GET",
                accept: "json",
                url: Routes.s3_utility_cdn_url_for_blob_path({ key: blob.key })
              }).then((response) => response.json()).then((data) => resolve((0,ts_safe_cast__WEBPACK_IMPORTED_MODULE_6__.cast)(data, [5, [0, "url", 0]]).url)).catch((e) => {
                (0,$app_utils_request__WEBPACK_IMPORTED_MODULE_12__.assertResponseError)(e);
                reject(e);
              });
          });
        });
      },
      allowedExtensions: $app_utils_file__WEBPACK_IMPORTED_MODULE_11__.ALLOWED_EXTENSIONS
    }), [imagesUploading.size]);
    react__WEBPACK_IMPORTED_MODULE_4__.useEffect(() => {
      if (imagesUploading.size === 0)
        return;
      const beforeUnload = (e) => e.preventDefault();
      window.addEventListener("beforeunload", beforeUnload);
      return () => window.removeEventListener("beforeunload", beforeUnload);
    }, [imagesUploading]);
    return imageUploadSettings;
  };
  const sectionButtonClasses = "w-[calc(1lh+--spacing(2))] py-1 text-center hover:bg-gray-300/50";
  const EditorSubmenu = ({ children }) => children;
  const EditorMenu = ({ onClose, children, label }) => {
    const items = react__WEBPACK_IMPORTED_MODULE_4__.Children.toArray(children);
    const [menuState, setMenuState] = react__WEBPACK_IMPORTED_MODULE_4__.useState("menu");
    const activeSubmenu = typeof menuState === "number" ? items[menuState] : null;
    const isSubmenu = (element) => react__WEBPACK_IMPORTED_MODULE_4__.isValidElement(element) && element.type === EditorSubmenu;
    return /* @__PURE__ */ react__WEBPACK_IMPORTED_MODULE_4__.createElement($app_components_Popover__WEBPACK_IMPORTED_MODULE_14__.Popover, { "aria-label": label, trigger: /* @__PURE__ */ react__WEBPACK_IMPORTED_MODULE_4__.createElement("div", { className: sectionButtonClasses }, /* @__PURE__ */ react__WEBPACK_IMPORTED_MODULE_4__.createElement($app_components_Icons__WEBPACK_IMPORTED_MODULE_13__.Icon, { name: "three-dots" })), onToggle: (open) => {
      if (!open)
        onClose();
      setMenuState("menu");
    } }, isSubmenu(activeSubmenu) ? /* @__PURE__ */ react__WEBPACK_IMPORTED_MODULE_4__.createElement("div", { className: "paragraphs", style: { width: "300px" } }, /* @__PURE__ */ react__WEBPACK_IMPORTED_MODULE_4__.createElement("h4", { style: { display: "grid", gridTemplateColumns: "1em 1fr 1em" } }, /* @__PURE__ */ react__WEBPACK_IMPORTED_MODULE_4__.createElement("button", { onClick: () => setMenuState("menu"), "aria-label": "Go back" }, /* @__PURE__ */ react__WEBPACK_IMPORTED_MODULE_4__.createElement($app_components_Icons__WEBPACK_IMPORTED_MODULE_13__.Icon, { name: "outline-cheveron-left" })), /* @__PURE__ */ react__WEBPACK_IMPORTED_MODULE_4__.createElement("div", { className: "text-center" }, activeSubmenu.props.heading)), activeSubmenu) : /* @__PURE__ */ react__WEBPACK_IMPORTED_MODULE_4__.createElement("div", { className: "stack", style: { width: "300px" } }, items.map((item, key) => isSubmenu(item) ? /* @__PURE__ */ react__WEBPACK_IMPORTED_MODULE_4__.createElement("button", { onClick: () => setMenuState(key), key }, /* @__PURE__ */ react__WEBPACK_IMPORTED_MODULE_4__.createElement("h5", null, item.props.heading), /* @__PURE__ */ react__WEBPACK_IMPORTED_MODULE_4__.createElement("div", null, item.props.text, " ", /* @__PURE__ */ react__WEBPACK_IMPORTED_MODULE_4__.createElement($app_components_Icons__WEBPACK_IMPORTED_MODULE_13__.Icon, { name: "outline-cheveron-right" }))) : item)));
  };
  const SectionToolbar = ({ children }) => /* @__PURE__ */ react__WEBPACK_IMPORTED_MODULE_4__.createElement("div", { role: "toolbar", className: "top-4 left-4 flex w-min gap-1 rounded border border-border hover:shadow md:flex-col lg:absolute" }, children);
  const SectionLayout = ({ section, children, menuItems = [] }) => {
    const [state, dispatch] = useReducer();
    const [linkCopied, setLinkCopied] = react__WEBPACK_IMPORTED_MODULE_4__.useState(false);
    const updateSection = (updated) => dispatch({ type: "update-section", updated: { ...section, ...updated } });
    const saveSection = useSaveSection(section);
    const scrollRef = react__WEBPACK_IMPORTED_MODULE_4__.useRef(null);
    const index = state.sections.indexOf(section);
    const imageUploadSettings = (0,$app_components_RichTextEditor__WEBPACK_IMPORTED_MODULE_17__.useImageUploadSettings)();
    const remove = async () => {
      try {
        await (0,$app_utils_request__WEBPACK_IMPORTED_MODULE_12__.request)({
          method: "DELETE",
          url: Routes.profile_section_path(section.id),
          accept: "json"
        });
        dispatch({ type: "remove-section", id: section.id });
      } catch (e) {
        (0,$app_utils_request__WEBPACK_IMPORTED_MODULE_12__.assertResponseError)(e);
        (0,$app_components_server_components_Alert__WEBPACK_IMPORTED_MODULE_19__.showAlert)(e.message, "error");
      }
    };
    const move = (type) => {
      dispatch({ type, id: section.id });
      requestAnimationFrame(() => {
        var _a;
        return (_a = scrollRef.current) == null ? void 0 : _a.scrollIntoView({ block: "center", behavior: "smooth" });
      });
    };
    const copyLink = () => void navigator.clipboard.writeText(new URL(`?section=${section.id}#${section.id}`, window.location.href).toString()).then(() => setLinkCopied(true));
    const onClose = () => {
      if (!(imageUploadSettings == null ? void 0 : imageUploadSettings.isUploading))
        void saveSection(section);
      setLinkCopied(false);
    };
    return /* @__PURE__ */ react__WEBPACK_IMPORTED_MODULE_4__.createElement(react__WEBPACK_IMPORTED_MODULE_4__.Fragment, null, section.header && !section.hide_header ? /* @__PURE__ */ react__WEBPACK_IMPORTED_MODULE_4__.createElement("h2", null, section.header) : null, /* @__PURE__ */ react__WEBPACK_IMPORTED_MODULE_4__.createElement(SectionToolbar, null, /* @__PURE__ */ react__WEBPACK_IMPORTED_MODULE_4__.createElement(EditorMenu, { label: "Edit section", onClose }, /* @__PURE__ */ react__WEBPACK_IMPORTED_MODULE_4__.createElement(EditorSubmenu, { heading: "Name", text: section.header }, /* @__PURE__ */ react__WEBPACK_IMPORTED_MODULE_4__.createElement("fieldset", null, /* @__PURE__ */ react__WEBPACK_IMPORTED_MODULE_4__.createElement("input", { placeholder: "Name", value: section.header, onChange: (e) => updateSection({ header: e.target.value }) })), /* @__PURE__ */ react__WEBPACK_IMPORTED_MODULE_4__.createElement("label", null, /* @__PURE__ */ react__WEBPACK_IMPORTED_MODULE_4__.createElement("input", { type: "checkbox", role: "switch", checked: !section.hide_header, onChange: () => updateSection({ hide_header: !section.hide_header }) }), "Display above section")), menuItems, /* @__PURE__ */ react__WEBPACK_IMPORTED_MODULE_4__.createElement("button", { onClick: copyLink }, /* @__PURE__ */ react__WEBPACK_IMPORTED_MODULE_4__.createElement("h5", null, linkCopied ? "Copied!" : "Copy link"), /* @__PURE__ */ react__WEBPACK_IMPORTED_MODULE_4__.createElement($app_components_Icons__WEBPACK_IMPORTED_MODULE_13__.Icon, { name: "link" })), /* @__PURE__ */ react__WEBPACK_IMPORTED_MODULE_4__.createElement("button", { onClick: () => void remove(), style: { color: "rgb(var(--danger))" } }, /* @__PURE__ */ react__WEBPACK_IMPORTED_MODULE_4__.createElement("h5", null, "Remove"), /* @__PURE__ */ react__WEBPACK_IMPORTED_MODULE_4__.createElement($app_components_Icons__WEBPACK_IMPORTED_MODULE_13__.Icon, { name: "trash2" }))), /* @__PURE__ */ react__WEBPACK_IMPORTED_MODULE_4__.createElement("button", { "aria-label": "Move section up", disabled: index === 0, onClick: () => move("move-section-up"), className: sectionButtonClasses }, /* @__PURE__ */ react__WEBPACK_IMPORTED_MODULE_4__.createElement($app_components_Icons__WEBPACK_IMPORTED_MODULE_13__.Icon, { name: "arrow-up" })), /* @__PURE__ */ react__WEBPACK_IMPORTED_MODULE_4__.createElement("button", { "aria-label": "Move section down", disabled: index === state.sections.length - 1, onClick: () => move("move-section-down"), className: sectionButtonClasses }, /* @__PURE__ */ react__WEBPACK_IMPORTED_MODULE_4__.createElement($app_components_Icons__WEBPACK_IMPORTED_MODULE_13__.Icon, { name: "arrow-down" }))), /* @__PURE__ */ react__WEBPACK_IMPORTED_MODULE_4__.createElement("div", { ref: scrollRef, className: "absolute" }), /* @__PURE__ */ react__WEBPACK_IMPORTED_MODULE_4__.createElement("div", { className: "mx-auto w-full max-w-6xl" }, children));
  };
  const ProductList = react__WEBPACK_IMPORTED_MODULE_4__.forwardRef(({ children }, ref) => /* @__PURE__ */ react__WEBPACK_IMPORTED_MODULE_4__.createElement("div", { className: "rows", role: "list", ref, "aria-label": "Products" }, children));
  ProductList.displayName = "ProductList";
  const ProductsSettings = ({ section }) => {
    const [state, dispatch] = useReducer();
    const updateSection = (updated) => dispatch({ type: "update-section", updated: { ...section, ...updated } });
    const uid = react__WEBPACK_IMPORTED_MODULE_4__.useId();
    const [products, setProducts] = react__WEBPACK_IMPORTED_MODULE_4__.useState(lodash_sortBy__WEBPACK_IMPORTED_MODULE_3___default()(state.products, (product) => {
      const index = section.shown_products.indexOf(product.id);
      return index < 0 ? Infinity : index;
    }));
    react__WEBPACK_IMPORTED_MODULE_4__.useEffect(() => updateSection({
      shown_products: lodash_sortBy__WEBPACK_IMPORTED_MODULE_3___default()(section.shown_products, (id) => products.findIndex((product) => product.id === id))
    }), [products]);
    return /* @__PURE__ */ react__WEBPACK_IMPORTED_MODULE_4__.createElement("div", { className: "paragraphs overflow-auto", style: { maxHeight: "min(100vh, 500px)" } }, /* @__PURE__ */ react__WEBPACK_IMPORTED_MODULE_4__.createElement("fieldset", null, /* @__PURE__ */ react__WEBPACK_IMPORTED_MODULE_4__.createElement("legend", null, /* @__PURE__ */ react__WEBPACK_IMPORTED_MODULE_4__.createElement("label", { htmlFor: `${uid}-defaultProductSort` }, "Default sort order")), /* @__PURE__ */ react__WEBPACK_IMPORTED_MODULE_4__.createElement($app_components_TypeSafeOptionSelect__WEBPACK_IMPORTED_MODULE_20__.TypeSafeOptionSelect, { id: `${uid}-defaultProductSort`, value: section.default_product_sort, onChange: (key) => updateSection({ default_product_sort: key }), options: $app_parsers_product__WEBPACK_IMPORTED_MODULE_8__.PROFILE_SORT_KEYS.map((key) => ({
      id: key,
      label: $app_components_Product_CardGrid__WEBPACK_IMPORTED_MODULE_15__.SORT_BY_LABELS[key]
    })) })), /* @__PURE__ */ react__WEBPACK_IMPORTED_MODULE_4__.createElement("label", null, /* @__PURE__ */ react__WEBPACK_IMPORTED_MODULE_4__.createElement("input", { type: "checkbox", role: "switch", checked: section.show_filters, onChange: () => updateSection({ show_filters: !section.show_filters }) }), "Show product filters"), /* @__PURE__ */ react__WEBPACK_IMPORTED_MODULE_4__.createElement("label", null, /* @__PURE__ */ react__WEBPACK_IMPORTED_MODULE_4__.createElement("input", { type: "checkbox", role: "switch", checked: section.add_new_products, onChange: () => updateSection({ add_new_products: !section.add_new_products }) }), "Add new products by default"), products.length > 0 ? /* @__PURE__ */ react__WEBPACK_IMPORTED_MODULE_4__.createElement(react_sortablejs__WEBPACK_IMPORTED_MODULE_5__.ReactSortable, { list: products, setList: setProducts, tag: ProductList, handle: "[aria-grabbed]" }, products.map((product) => {
      const productVisibilityUID = `${uid}-productVisibility-${product.id}`;
      return /* @__PURE__ */ react__WEBPACK_IMPORTED_MODULE_4__.createElement("label", { role: "listitem", key: product.id, style: { border: product.chosen ? "var(--border)" : void 0 } }, /* @__PURE__ */ react__WEBPACK_IMPORTED_MODULE_4__.createElement("div", { className: "content" }, section.default_product_sort === "page_layout" ? /* @__PURE__ */ react__WEBPACK_IMPORTED_MODULE_4__.createElement("div", { "aria-grabbed": product.chosen }) : null, /* @__PURE__ */ react__WEBPACK_IMPORTED_MODULE_4__.createElement("span", { className: "text-singleline" }, product.name)), /* @__PURE__ */ react__WEBPACK_IMPORTED_MODULE_4__.createElement("div", { className: "actions" }, /* @__PURE__ */ react__WEBPACK_IMPORTED_MODULE_4__.createElement("input", { id: productVisibilityUID, type: "checkbox", checked: section.shown_products.includes(product.id), onChange: () => {
        updateSection({
          shown_products: section.shown_products.includes(product.id) ? section.shown_products.filter((id) => id !== product.id) : products.flatMap(({ id }) => product.id === id || section.shown_products.includes(id) ? id : [])
        });
      } })));
    })) : null);
  };
  const ProductsSectionView = ({ section }) => {
    const [state] = useReducer();
    const params = {
      sort: section.default_product_sort,
      user_id: state.creator_profile.external_id,
      section_id: section.shown_products.length > 0 ? section.id : void 0,
      ids: section.shown_products
    };
    const [searchState, searchDispatch] = (0,$app_components_Product_CardGrid__WEBPACK_IMPORTED_MODULE_15__.useSearchReducer)({ params, results: section.search_results });
    (0,$app_components_useOnChange__WEBPACK_IMPORTED_MODULE_21__.useOnChange)(() => searchDispatch({ type: "set-params", params }), [JSON.stringify(section.shown_products), section.default_product_sort]);
    const selectedProductsCount = state.products.filter((product) => section.shown_products.includes(product.id)).length;
    return /* @__PURE__ */ react__WEBPACK_IMPORTED_MODULE_4__.createElement(SectionLayout, { section, menuItems: [
      /* @__PURE__ */ react__WEBPACK_IMPORTED_MODULE_4__.createElement(EditorSubmenu, { key: "0", heading: "Products", text: `${selectedProductsCount} ${selectedProductsCount === 1 ? "product" : "products"}` }, /* @__PURE__ */ react__WEBPACK_IMPORTED_MODULE_4__.createElement(ProductsSettings, { section }))
    ] }, /* @__PURE__ */ react__WEBPACK_IMPORTED_MODULE_4__.createElement($app_components_Product_CardGrid__WEBPACK_IMPORTED_MODULE_15__.CardGrid, { hideFilters: !section.show_filters, state: searchState, dispatchAction: searchDispatch, title: searchState.results ? searchState.results.total > 0 ? `1-${searchState.results.products.length} of ${searchState.results.total} products` : "No products found" : "Loading products...", currencyCode: state.currency_code, defaults: params, disableFilters: true }));
  };
  const PostsSectionView = ({ section }) => {
    const [state] = useReducer();
    return /* @__PURE__ */ react__WEBPACK_IMPORTED_MODULE_4__.createElement(SectionLayout, { section }, /* @__PURE__ */ react__WEBPACK_IMPORTED_MODULE_4__.createElement(_Sections__WEBPACK_IMPORTED_MODULE_23__.PostsView, { posts: state.posts.filter((post) => section.shown_posts.includes(post.id)) }));
  };
  const RichTextSectionView = ({ section }) => {
    const [_, dispatch] = useReducer();
    const [initialValue] = react__WEBPACK_IMPORTED_MODULE_4__.useState(section.text);
    const [focused, setFocused] = react__WEBPACK_IMPORTED_MODULE_4__.useState(false);
    const saveSection = useSaveSection(section);
    react__WEBPACK_IMPORTED_MODULE_4__.useEffect(() => {
      const listener = (e) => {
        var _a;
        if (e.target !== document.body && e.target instanceof Node && !((_a = toolbarRef.current) == null ? void 0 : _a.contains(e.target)))
          setFocused(false);
      };
      window.addEventListener("focusin", listener);
      return () => window.removeEventListener("focusin", listener);
    }, []);
    const editor = (0,$app_components_RichTextEditor__WEBPACK_IMPORTED_MODULE_17__.useRichTextEditor)({
      initialValue,
      placeholder: "Enter text here"
    });
    const toolbarRef = react__WEBPACK_IMPORTED_MODULE_4__.useRef(null);
    const sectionRef = (0,$app_components_useRefToLatest__WEBPACK_IMPORTED_MODULE_22__.useRefToLatest)(section);
    const imageUploadSettings = (0,$app_components_RichTextEditor__WEBPACK_IMPORTED_MODULE_17__.useImageUploadSettings)();
    const isUploadingRef = react__WEBPACK_IMPORTED_MODULE_4__.useRef(imageUploadSettings == null ? void 0 : imageUploadSettings.isUploading);
    react__WEBPACK_IMPORTED_MODULE_4__.useEffect(() => {
      isUploadingRef.current = imageUploadSettings == null ? void 0 : imageUploadSettings.isUploading;
    }, [imageUploadSettings == null ? void 0 : imageUploadSettings.isUploading]);
    react__WEBPACK_IMPORTED_MODULE_4__.useEffect(() => {
      if (!editor)
        return;
      const update = () => {
        if (isUploadingRef.current)
          return;
        const text = editor.getJSON();
        dispatch({ type: "update-section", updated: { ...sectionRef.current, text } });
        void saveSection({ ...sectionRef.current, text });
      };
      const debouncedUpdate = lodash_debounce__WEBPACK_IMPORTED_MODULE_1___default()(update, 2e3);
      editor.on("blur", update);
      editor.on("update", debouncedUpdate);
      return () => {
        editor.off("blur", update);
        editor.off("update", debouncedUpdate);
      };
    }, [editor]);
    return /* @__PURE__ */ react__WEBPACK_IMPORTED_MODULE_4__.createElement(SectionLayout, { section }, editor ? /* @__PURE__ */ react__WEBPACK_IMPORTED_MODULE_4__.createElement(
      "div",
      {
        ref: toolbarRef,
        style: { display: "contents" },
        onMouseDown: () => setFocused(true),
        hidden: !editor.isFocused && !focused
      },
      /* @__PURE__ */ react__WEBPACK_IMPORTED_MODULE_4__.createElement(
        $app_components_RichTextEditor__WEBPACK_IMPORTED_MODULE_17__.RichTextEditorToolbar,
        {
          editor,
          productId: section.id,
          className: "border !bg-white !text-black shadow lg:-mt-[calc(1lh+--spacing(4)+2px)]"
        }
      )
    ) : null, /* @__PURE__ */ react__WEBPACK_IMPORTED_MODULE_4__.createElement(_tiptap_react__WEBPACK_IMPORTED_MODULE_24__.EditorContent, { editor, className: "rich-text" }));
  };
  const SubscribeSectionView = ({ section }) => {
    const [state, dispatch] = useReducer();
    const updateSection = (updated) => dispatch({ type: "update-section", updated: { ...section, ...updated } });
    return /* @__PURE__ */ react__WEBPACK_IMPORTED_MODULE_4__.createElement(SectionLayout, { section, menuItems: [
      /* @__PURE__ */ react__WEBPACK_IMPORTED_MODULE_4__.createElement(EditorSubmenu, { key: "0", heading: "Button Label", text: section.button_label }, /* @__PURE__ */ react__WEBPACK_IMPORTED_MODULE_4__.createElement("input", { type: "text", placeholder: "Subscribe", "aria-label": "Button Label", value: section.button_label, onChange: (evt) => updateSection({ button_label: evt.target.value }) }))
    ] }, /* @__PURE__ */ react__WEBPACK_IMPORTED_MODULE_4__.createElement(_Sections__WEBPACK_IMPORTED_MODULE_23__.SubscribeView, { creatorProfile: state.creator_profile, buttonLabel: section.button_label }));
  };
  const FeaturedProductSectionView = ({ section }) => {
    const uid = react__WEBPACK_IMPORTED_MODULE_4__.useId();
    const [state, dispatch] = useReducer();
    const product = state.products.find(({ id }) => id === section.featured_product_id);
    const updateSection = (updated) => dispatch({ type: "update-section", updated: { ...section, ...updated } });
    const [props, setProps] = react__WEBPACK_IMPORTED_MODULE_4__.useState(null);
    react__WEBPACK_IMPORTED_MODULE_4__.useEffect(() => {
      if (!section.featured_product_id)
        return;
      setProps(null);
      void (0,$app_data_profile_settings__WEBPACK_IMPORTED_MODULE_7__.getProduct)(section.featured_product_id).then(setProps, (e) => {
        (0,$app_utils_request__WEBPACK_IMPORTED_MODULE_12__.assertResponseError)(e);
        (0,$app_components_server_components_Alert__WEBPACK_IMPORTED_MODULE_19__.showAlert)(e.message, "error");
      });
    }, [section.featured_product_id]);
    return /* @__PURE__ */ react__WEBPACK_IMPORTED_MODULE_4__.createElement(SectionLayout, { section, menuItems: [
      /* @__PURE__ */ react__WEBPACK_IMPORTED_MODULE_4__.createElement(EditorSubmenu, { key: "0", heading: "Featured Product", text: product == null ? void 0 : product.name }, /* @__PURE__ */ react__WEBPACK_IMPORTED_MODULE_4__.createElement($app_components_Select__WEBPACK_IMPORTED_MODULE_18__.Select, { inputId: uid, options: state.products.map(({ id, name }) => ({ id, label: name })), value: product ? { id: product.id, label: product.name } : null, onChange: (option) => updateSection(option ? { featured_product_id: option.id } : {}), placeholder: "Search products", "aria-label": "Featured Product", isMulti: false, autoFocus: true }))
    ] }, props ? /* @__PURE__ */ react__WEBPACK_IMPORTED_MODULE_4__.createElement(_Sections__WEBPACK_IMPORTED_MODULE_23__.FeaturedProductView, { props }) : section.featured_product_id ? /* @__PURE__ */ react__WEBPACK_IMPORTED_MODULE_4__.createElement("section", { className: "dummy h-128" }) : null);
  };
  const AddSectionButton = ({ position, index, className }) => {
    const [open, setOpen] = react__WEBPACK_IMPORTED_MODULE_4__.useState(false);
    const [state, dispatch] = useReducer();
    const addSection = (type) => {
      const add = async () => {
        try {
          const section = (() => {
            const commonProps = { header: "", hide_header: false, product_id: state.product_id };
            switch (type) {
              case "SellerProfileProductsSection":
                return {
                  ...commonProps,
                  type,
                  shown_products: [],
                  default_product_sort: "page_layout",
                  show_filters: false,
                  add_new_products: true,
                  search_results: { products: [], total: 0, filetypes_data: [], tags_data: [] }
                };
              case "SellerProfilePostsSection":
                return { ...commonProps, type, shown_posts: state.posts.map((post) => post.id) };
              case "SellerProfileRichTextSection":
                return { ...commonProps, type, text: {} };
              case "SellerProfileSubscribeSection":
                return {
                  ...commonProps,
                  type,
                  header: `Subscribe to receive email updates from ${state.creator_profile.name}.`,
                  button_label: "Subscribe"
                };
              case "SellerProfileFeaturedProductSection":
                return { ...commonProps, type };
              case "SellerProfileWishlistsSection":
                return { ...commonProps, type, shown_wishlists: [] };
            }
          })();
          const response = await (0,$app_utils_request__WEBPACK_IMPORTED_MODULE_12__.request)({
            method: "POST",
            url: Routes.profile_sections_path(),
            data: section,
            accept: "json"
          });
          const json = await response.json();
          if (!response.ok)
            throw new $app_utils_request__WEBPACK_IMPORTED_MODULE_12__.ResponseError((0,ts_safe_cast__WEBPACK_IMPORTED_MODULE_6__.cast)(json, [5, [0, "error", 0]]).error);
          const { id } = (0,ts_safe_cast__WEBPACK_IMPORTED_MODULE_6__.cast)(json, [5, [0, "id", 0]]);
          return { ...section, id };
        } catch (e) {
          if (e instanceof $app_utils_request__WEBPACK_IMPORTED_MODULE_12__.ResponseError)
            (0,$app_components_server_components_Alert__WEBPACK_IMPORTED_MODULE_19__.showAlert)(e.message, "error");
          throw e;
        }
      };
      dispatch({ type: "add-section", index, section: add() });
    };
    return /* @__PURE__ */ react__WEBPACK_IMPORTED_MODULE_4__.createElement($app_components_Popover__WEBPACK_IMPORTED_MODULE_14__.Popover, { open, onToggle: setOpen, position, "aria-label": "Add section", className: (0,$app_utils_classNames__WEBPACK_IMPORTED_MODULE_10__.classNames)("aspect-ratio-1 !absolute -top-px place-self-center", { "top-full": position === "top" }, className), trigger: /* @__PURE__ */ react__WEBPACK_IMPORTED_MODULE_4__.createElement("div", { className: (0,$app_utils_classNames__WEBPACK_IMPORTED_MODULE_10__.classNames)(sectionButtonClasses, "rounded-b border") }, /* @__PURE__ */ react__WEBPACK_IMPORTED_MODULE_4__.createElement($app_components_Icons__WEBPACK_IMPORTED_MODULE_13__.Icon, { name: "plus" })) }, /* @__PURE__ */ react__WEBPACK_IMPORTED_MODULE_4__.createElement("div", { role: "menu", onClick: () => setOpen(false) }, /* @__PURE__ */ react__WEBPACK_IMPORTED_MODULE_4__.createElement("div", { role: "menuitem", onClick: () => addSection("SellerProfileProductsSection") }, /* @__PURE__ */ react__WEBPACK_IMPORTED_MODULE_4__.createElement($app_components_Icons__WEBPACK_IMPORTED_MODULE_13__.Icon, { name: "grid" }), "\u2002 Products"), /* @__PURE__ */ react__WEBPACK_IMPORTED_MODULE_4__.createElement("div", { role: "menuitem", onClick: () => addSection("SellerProfilePostsSection") }, /* @__PURE__ */ react__WEBPACK_IMPORTED_MODULE_4__.createElement($app_components_Icons__WEBPACK_IMPORTED_MODULE_13__.Icon, { name: "envelope-fill" }), "\u2002 Posts"), /* @__PURE__ */ react__WEBPACK_IMPORTED_MODULE_4__.createElement("div", { role: "menuitem", onClick: () => addSection("SellerProfileFeaturedProductSection") }, /* @__PURE__ */ react__WEBPACK_IMPORTED_MODULE_4__.createElement($app_components_Icons__WEBPACK_IMPORTED_MODULE_13__.Icon, { name: "box" }), "\u2002 Featured Product"), /* @__PURE__ */ react__WEBPACK_IMPORTED_MODULE_4__.createElement("div", { role: "menuitem", onClick: () => addSection("SellerProfileRichTextSection") }, /* @__PURE__ */ react__WEBPACK_IMPORTED_MODULE_4__.createElement($app_components_Icons__WEBPACK_IMPORTED_MODULE_13__.Icon, { name: "file-earmark-text" }), "\u2002 Rich text"), /* @__PURE__ */ react__WEBPACK_IMPORTED_MODULE_4__.createElement("div", { role: "menuitem", onClick: () => addSection("SellerProfileSubscribeSection") }, /* @__PURE__ */ react__WEBPACK_IMPORTED_MODULE_4__.createElement($app_components_Icons__WEBPACK_IMPORTED_MODULE_13__.Icon, { name: "solid-bell" }), "\u2002 Subscribe"), /* @__PURE__ */ react__WEBPACK_IMPORTED_MODULE_4__.createElement("div", { role: "menuitem", onClick: () => addSection("SellerProfileWishlistsSection") }, /* @__PURE__ */ react__WEBPACK_IMPORTED_MODULE_4__.createElement($app_components_Icons__WEBPACK_IMPORTED_MODULE_13__.Icon, { name: "file-text-fill" }), "\u2002 Wishlists")));
  };
  const EditSection = ({ section }) => {
    switch (section.type) {
      case "SellerProfileProductsSection":
        return /* @__PURE__ */ react__WEBPACK_IMPORTED_MODULE_4__.createElement(ProductsSectionView, { section });
      case "SellerProfilePostsSection":
        return /* @__PURE__ */ react__WEBPACK_IMPORTED_MODULE_4__.createElement(PostsSectionView, { section });
      case "SellerProfileRichTextSection":
        return /* @__PURE__ */ react__WEBPACK_IMPORTED_MODULE_4__.createElement(RichTextSectionView, { section });
      case "SellerProfileSubscribeSection":
        return /* @__PURE__ */ react__WEBPACK_IMPORTED_MODULE_4__.createElement(SubscribeSectionView, { section });
      case "SellerProfileFeaturedProductSection":
        return /* @__PURE__ */ react__WEBPACK_IMPORTED_MODULE_4__.createElement(FeaturedProductSectionView, { section });
      case "SellerProfileWishlistsSection":
        return /* @__PURE__ */ react__WEBPACK_IMPORTED_MODULE_4__.createElement($app_components_Profile_EditSections_WishlistsSectionView__WEBPACK_IMPORTED_MODULE_16__.WishlistsSectionView, { section });
    }
  };


  /***/ }),

  /***/ "../components/Profile/EditSections/WishlistsSectionView.tsx":
  /*!*******************************************************************!*\
    !*** ../components/Profile/EditSections/WishlistsSectionView.tsx ***!
    \*******************************************************************/
  /***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

  __webpack_require__.r(__webpack_exports__);
  /* harmony export */ __webpack_require__.d(__webpack_exports__, {
  /* harmony export */   WishlistsSectionView: () => (/* binding */ WishlistsSectionView)
  /* harmony export */ });
  /* harmony import */ var lodash_sortBy__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! lodash/sortBy */ "../../../node_modules/lodash/sortBy.js");
  /* harmony import */ var lodash_sortBy__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(lodash_sortBy__WEBPACK_IMPORTED_MODULE_0__);
  /* harmony import */ var react__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! react */ "../../../node_modules/react/index.js");
  /* harmony import */ var react__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_1__);
  /* harmony import */ var react_sortablejs__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! react-sortablejs */ "../../../node_modules/react-sortablejs/dist/index.js");
  /* harmony import */ var react_sortablejs__WEBPACK_IMPORTED_MODULE_2___default = /*#__PURE__*/__webpack_require__.n(react_sortablejs__WEBPACK_IMPORTED_MODULE_2__);
  /* harmony import */ var $app_data_wishlists__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! $app/data/wishlists */ "../data/wishlists.ts");
  /* harmony import */ var $app_utils_request__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! $app/utils/request */ "../utils/request.ts");
  /* harmony import */ var $app_components_Profile_EditSections__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! $app/components/Profile/EditSections */ "../components/Profile/EditSections.tsx");
  /* harmony import */ var $app_components_Profile_Sections__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! $app/components/Profile/Sections */ "../components/Profile/Sections.tsx");
  /* harmony import */ var $app_components_server_components_Alert__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! $app/components/server-components/Alert */ "../components/server-components/Alert.tsx");
  /* harmony import */ var $app_components_Wishlist_Card__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! $app/components/Wishlist/Card */ "../components/Wishlist/Card.tsx");










  const WishlistsSectionView = ({ section }) => {
    const [state, dispatch] = (0,$app_components_Profile_EditSections__WEBPACK_IMPORTED_MODULE_5__.useReducer)();
    const uid = react__WEBPACK_IMPORTED_MODULE_1__.useId();
    const selectedWishlistsCount = state.wishlist_options.filter((wishlist) => section.shown_wishlists.includes(wishlist.id)).length;
    const [wishlists, setWishlists] = react__WEBPACK_IMPORTED_MODULE_1__.useState(lodash_sortBy__WEBPACK_IMPORTED_MODULE_0___default()(state.wishlist_options, (wishlist) => {
      const index = section.shown_wishlists.indexOf(wishlist.id);
      return index < 0 ? Infinity : index;
    }));
    const updateSection = (updated) => dispatch({ type: "update-section", updated: { ...section, ...updated } });
    const wishlistIds = wishlists.map((wishlist) => wishlist.id);
    react__WEBPACK_IMPORTED_MODULE_1__.useEffect(() => updateSection({
      shown_wishlists: lodash_sortBy__WEBPACK_IMPORTED_MODULE_0___default()(section.shown_wishlists, (id) => wishlistIds.indexOf(id))
    }), [wishlistIds.join()]);
    const [loadedWishlists, setLoadedWishlists] = react__WEBPACK_IMPORTED_MODULE_1__.useState(null);
    react__WEBPACK_IMPORTED_MODULE_1__.useEffect(() => {
      const loadWishlists = async () => {
        setLoadedWishlists(null);
        try {
          setLoadedWishlists(section.shown_wishlists.length > 0 ? await (0,$app_data_wishlists__WEBPACK_IMPORTED_MODULE_3__.fetchWishlists)(section.shown_wishlists) : []);
        } catch (e) {
          (0,$app_utils_request__WEBPACK_IMPORTED_MODULE_4__.assertResponseError)(e);
          (0,$app_components_server_components_Alert__WEBPACK_IMPORTED_MODULE_7__.showAlert)(e.message, "error");
        }
      };
      void loadWishlists();
    }, [section.shown_wishlists]);
    return /* @__PURE__ */ react__WEBPACK_IMPORTED_MODULE_1__.createElement($app_components_Profile_EditSections__WEBPACK_IMPORTED_MODULE_5__.SectionLayout, { section, menuItems: [
      /* @__PURE__ */ react__WEBPACK_IMPORTED_MODULE_1__.createElement($app_components_Profile_EditSections__WEBPACK_IMPORTED_MODULE_5__.EditorSubmenu, { key: "0", heading: "Wishlists", text: `${selectedWishlistsCount} ${selectedWishlistsCount === 1 ? "wishlist" : "wishlists"}` }, /* @__PURE__ */ react__WEBPACK_IMPORTED_MODULE_1__.createElement("div", { className: "paragraphs overflow-auto", style: { maxHeight: "min(100vh, 500px)" } }, wishlists.length > 0 ? /* @__PURE__ */ react__WEBPACK_IMPORTED_MODULE_1__.createElement(react_sortablejs__WEBPACK_IMPORTED_MODULE_2__.ReactSortable, { list: wishlists, setList: setWishlists, tag: $app_components_Profile_EditSections__WEBPACK_IMPORTED_MODULE_5__.ProductList, handle: "[aria-grabbed]" }, wishlists.map((wishlist) => /* @__PURE__ */ react__WEBPACK_IMPORTED_MODULE_1__.createElement("label", { role: "listitem", key: wishlist.id, style: { border: wishlist.chosen ? "var(--border)" : void 0 } }, /* @__PURE__ */ react__WEBPACK_IMPORTED_MODULE_1__.createElement("div", { className: "content" }, /* @__PURE__ */ react__WEBPACK_IMPORTED_MODULE_1__.createElement("div", { "aria-grabbed": wishlist.chosen }), /* @__PURE__ */ react__WEBPACK_IMPORTED_MODULE_1__.createElement("span", { className: "text-singleline" }, wishlist.name)), /* @__PURE__ */ react__WEBPACK_IMPORTED_MODULE_1__.createElement("div", { className: "actions" }, /* @__PURE__ */ react__WEBPACK_IMPORTED_MODULE_1__.createElement("input", { id: `${uid}-productVisibility-${wishlist.id}`, type: "checkbox", checked: section.shown_wishlists.includes(wishlist.id), onChange: () => {
        updateSection({
          shown_wishlists: section.shown_wishlists.includes(wishlist.id) ? section.shown_wishlists.filter((id) => id !== wishlist.id) : wishlists.flatMap(({ id }) => wishlist.id === id || section.shown_wishlists.includes(id) ? id : [])
        });
      } }))))) : null))
    ] }, section.shown_wishlists.length > 0 && !loadedWishlists ? /* @__PURE__ */ react__WEBPACK_IMPORTED_MODULE_1__.createElement($app_components_Wishlist_Card__WEBPACK_IMPORTED_MODULE_8__.DummyCardGrid, { count: section.shown_wishlists.length }) : /* @__PURE__ */ react__WEBPACK_IMPORTED_MODULE_1__.createElement($app_components_Profile_Sections__WEBPACK_IMPORTED_MODULE_6__.WishlistsView, { wishlists: loadedWishlists ? lodash_sortBy__WEBPACK_IMPORTED_MODULE_0___default()(loadedWishlists, (wishlist) => wishlistIds.indexOf(wishlist.id)) : [] }));
  };


  /***/ }),

  /***/ "../components/Profile/Sections.tsx":
  /*!******************************************!*\
    !*** ../components/Profile/Sections.tsx ***!
    \******************************************/
  /***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

  __webpack_require__.r(__webpack_exports__);
  /* harmony export */ __webpack_require__.d(__webpack_exports__, {
  /* harmony export */   FeaturedProductView: () => (/* binding */ FeaturedProductView),
  /* harmony export */   PostsView: () => (/* binding */ PostsView),
  /* harmony export */   Section: () => (/* binding */ Section),
  /* harmony export */   SectionLayout: () => (/* binding */ SectionLayout),
  /* harmony export */   SubscribeView: () => (/* binding */ SubscribeView),
  /* harmony export */   WishlistsSectionView: () => (/* binding */ WishlistsSectionView),
  /* harmony export */   WishlistsView: () => (/* binding */ WishlistsView)
  /* harmony export */ });
  /* harmony import */ var _tiptap_react__WEBPACK_IMPORTED_MODULE_11__ = __webpack_require__(/*! @tiptap/react */ "../../../node_modules/@tiptap/react/dist/index.js");
  /* harmony import */ var classnames__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! classnames */ "../../../node_modules/classnames/index.js");
  /* harmony import */ var classnames__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(classnames__WEBPACK_IMPORTED_MODULE_0__);
  /* harmony import */ var react__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! react */ "../../../node_modules/react/index.js");
  /* harmony import */ var react__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_1__);
  /* harmony import */ var $app_components_Icons__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! $app/components/Icons */ "../components/Icons.tsx");
  /* harmony import */ var $app_components_Product__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! $app/components/Product */ "../components/Product/index.tsx");
  /* harmony import */ var $app_components_Product_CardGrid__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! $app/components/Product/CardGrid */ "../components/Product/CardGrid.tsx");
  /* harmony import */ var $app_components_Profile_FollowForm__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! $app/components/Profile/FollowForm */ "../components/Profile/FollowForm.tsx");
  /* harmony import */ var $app_components_RichTextEditor__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! $app/components/RichTextEditor */ "../components/RichTextEditor.tsx");
  /* harmony import */ var $app_components_server_components_Profile_CoffeePage__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! $app/components/server-components/Profile/CoffeePage */ "../components/server-components/Profile/CoffeePage.tsx");
  /* harmony import */ var $app_components_server_components_Profile_PostPage__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! $app/components/server-components/Profile/PostPage */ "../components/server-components/Profile/PostPage.tsx");
  /* harmony import */ var $app_components_UserAgent__WEBPACK_IMPORTED_MODULE_9__ = __webpack_require__(/*! $app/components/UserAgent */ "../components/UserAgent.tsx");
  /* harmony import */ var $app_components_Wishlist_Card__WEBPACK_IMPORTED_MODULE_10__ = __webpack_require__(/*! $app/components/Wishlist/Card */ "../components/Wishlist/Card.tsx");
  /* provided dependency */ var Routes = __webpack_require__(/*! $app/utils/routes */ "../utils/routes.js");













  const PostsView = ({ posts }) => {
    const userAgentInfo = (0,$app_components_UserAgent__WEBPACK_IMPORTED_MODULE_9__.useUserAgentInfo)();
    return /* @__PURE__ */ react__WEBPACK_IMPORTED_MODULE_1__.createElement(react__WEBPACK_IMPORTED_MODULE_1__.Fragment, null, posts.map((post) => /* @__PURE__ */ react__WEBPACK_IMPORTED_MODULE_1__.createElement("a", { key: post.slug, href: Routes.custom_domain_view_post_path(post.slug), className: "flex justify-between gap-4 border-b border-border py-8 no-underline first:pt-0 last:border-b-0 last:pb-0" }, /* @__PURE__ */ react__WEBPACK_IMPORTED_MODULE_1__.createElement("div", null, /* @__PURE__ */ react__WEBPACK_IMPORTED_MODULE_1__.createElement("h2", null, post.name), /* @__PURE__ */ react__WEBPACK_IMPORTED_MODULE_1__.createElement("time", null, (0,$app_components_server_components_Profile_PostPage__WEBPACK_IMPORTED_MODULE_8__.formatPostDate)(post.published_at, userAgentInfo.locale))), /* @__PURE__ */ react__WEBPACK_IMPORTED_MODULE_1__.createElement($app_components_Icons__WEBPACK_IMPORTED_MODULE_2__.Icon, { name: "arrow-diagonal-up-right", className: "text-lg" }))));
  };
  const SubscribeView = ({ creatorProfile, buttonLabel }) => /* @__PURE__ */ react__WEBPACK_IMPORTED_MODULE_1__.createElement("div", { style: { maxWidth: "500px" } }, /* @__PURE__ */ react__WEBPACK_IMPORTED_MODULE_1__.createElement($app_components_Profile_FollowForm__WEBPACK_IMPORTED_MODULE_5__.FollowForm, { creatorProfile, buttonLabel, buttonColor: "primary" }));
  const ProductsSectionView = ({ section, creatorProfile, currencyCode }) => {
    const defaultParams = {
      sort: section.default_product_sort,
      user_id: creatorProfile.external_id,
      section_id: section.id
    };
    const [state, dispatch] = (0,$app_components_Product_CardGrid__WEBPACK_IMPORTED_MODULE_4__.useSearchReducer)({
      params: defaultParams,
      results: section.search_results
    });
    const [enteredQuery, setEnteredQuery] = react__WEBPACK_IMPORTED_MODULE_1__.useState("");
    return /* @__PURE__ */ react__WEBPACK_IMPORTED_MODULE_1__.createElement($app_components_Product_CardGrid__WEBPACK_IMPORTED_MODULE_4__.CardGrid, { hideFilters: !section.show_filters, state, dispatchAction: dispatch, title: state.results ? state.results.total > 0 ? `1-${state.results.products.length} of ${state.results.total} products` : "No products found" : "Loading products...", currencyCode, defaults: defaultParams, prependFilters: /* @__PURE__ */ react__WEBPACK_IMPORTED_MODULE_1__.createElement("div", null, /* @__PURE__ */ react__WEBPACK_IMPORTED_MODULE_1__.createElement("input", { "aria-label": "Search products", placeholder: "Search products", value: enteredQuery, onChange: (e) => setEnteredQuery(e.target.value), onKeyPress: (e) => {
      if (e.key === "Enter") {
        const { from: _, ...params } = state.params;
        dispatch({ type: "set-params", params: { ...params, query: enteredQuery } });
      }
    } })) });
  };
  const FeaturedProductView = ({ props }) => {
    var _a, _b;
    const [selection, setSelection] = react__WEBPACK_IMPORTED_MODULE_1__.useState({
      recurrence: (_b = (_a = props.product.recurrences) == null ? void 0 : _a.default) != null ? _b : null,
      price: { error: false, value: null },
      quantity: 1,
      rent: false,
      optionId: null,
      callStartTime: null,
      payInInstallments: false
    });
    return props.product.native_type === "coffee" ? /* @__PURE__ */ react__WEBPACK_IMPORTED_MODULE_1__.createElement($app_components_server_components_Profile_CoffeePage__WEBPACK_IMPORTED_MODULE_7__.CoffeeProduct, { ...props }) : /* @__PURE__ */ react__WEBPACK_IMPORTED_MODULE_1__.createElement($app_components_Product__WEBPACK_IMPORTED_MODULE_3__.Product, { ...props, selection, setSelection });
  };
  const WishlistsView = ({ wishlists }) => wishlists.length > 0 ? /* @__PURE__ */ react__WEBPACK_IMPORTED_MODULE_1__.createElement($app_components_Wishlist_Card__WEBPACK_IMPORTED_MODULE_10__.CardGrid, null, wishlists.map((wishlist) => /* @__PURE__ */ react__WEBPACK_IMPORTED_MODULE_1__.createElement($app_components_Wishlist_Card__WEBPACK_IMPORTED_MODULE_10__.Card, { key: wishlist.id, wishlist, hideSeller: true }))) : /* @__PURE__ */ react__WEBPACK_IMPORTED_MODULE_1__.createElement("div", { className: "paragraphs", style: { textAlign: "center", height: "100%", alignContent: "center" } }, /* @__PURE__ */ react__WEBPACK_IMPORTED_MODULE_1__.createElement("h1", null, /* @__PURE__ */ react__WEBPACK_IMPORTED_MODULE_1__.createElement($app_components_Icons__WEBPACK_IMPORTED_MODULE_2__.Icon, { name: "archive-fill" })), "No wishlists selected");
  const WishlistsSectionView = ({ section }) => /* @__PURE__ */ react__WEBPACK_IMPORTED_MODULE_1__.createElement(WishlistsView, { wishlists: section.wishlists });
  const FeaturedProductSectionView = ({ section }) => section.props ? /* @__PURE__ */ react__WEBPACK_IMPORTED_MODULE_1__.createElement(FeaturedProductView, { props: section.props }) : null;
  const PostsSectionView = ({ section }) => /* @__PURE__ */ react__WEBPACK_IMPORTED_MODULE_1__.createElement(PostsView, { posts: section.posts });
  const RichTextSectionView = ({ section }) => {
    const editor = (0,$app_components_RichTextEditor__WEBPACK_IMPORTED_MODULE_6__.useRichTextEditor)({ initialValue: section.text, editable: false });
    return /* @__PURE__ */ react__WEBPACK_IMPORTED_MODULE_1__.createElement(_tiptap_react__WEBPACK_IMPORTED_MODULE_11__.EditorContent, { editor, className: "rich-text -mb-4" });
  };
  const SubscribeSectionView = ({ section, creatorProfile }) => /* @__PURE__ */ react__WEBPACK_IMPORTED_MODULE_1__.createElement(SubscribeView, { creatorProfile, buttonLabel: section.button_label });
  const SectionLayout = ({ children, className, ...props }) => /* @__PURE__ */ react__WEBPACK_IMPORTED_MODULE_1__.createElement("section", { className: classnames__WEBPACK_IMPORTED_MODULE_0___default()("relative border-b border-border px-4 py-8 lg:py-16", className), ...props }, /* @__PURE__ */ react__WEBPACK_IMPORTED_MODULE_1__.createElement("div", { className: "mx-auto grid w-full max-w-6xl gap-6" }, children));
  const Section = ({ section, creator_profile, currency_code }) => /* @__PURE__ */ react__WEBPACK_IMPORTED_MODULE_1__.createElement(SectionLayout, { id: section.id }, section.header ? /* @__PURE__ */ react__WEBPACK_IMPORTED_MODULE_1__.createElement("h2", null, section.header) : null, section.type === "SellerProfileProductsSection" ? /* @__PURE__ */ react__WEBPACK_IMPORTED_MODULE_1__.createElement(ProductsSectionView, { section, creatorProfile: creator_profile, currencyCode: currency_code }) : section.type === "SellerProfilePostsSection" ? /* @__PURE__ */ react__WEBPACK_IMPORTED_MODULE_1__.createElement(PostsSectionView, { section }) : section.type === "SellerProfileRichTextSection" ? /* @__PURE__ */ react__WEBPACK_IMPORTED_MODULE_1__.createElement(RichTextSectionView, { section }) : section.type === "SellerProfileSubscribeSection" ? /* @__PURE__ */ react__WEBPACK_IMPORTED_MODULE_1__.createElement(SubscribeSectionView, { key: section.id, section, creatorProfile: creator_profile }) : section.type === "SellerProfileFeaturedProductSection" ? /* @__PURE__ */ react__WEBPACK_IMPORTED_MODULE_1__.createElement(FeaturedProductSectionView, { key: section.id, section }) : /* @__PURE__ */ react__WEBPACK_IMPORTED_MODULE_1__.createElement(WishlistsSectionView, { key: section.id, section }));


  /***/ }),

  /***/ "../data/profile_settings.ts":
  /*!***********************************!*\
    !*** ../data/profile_settings.ts ***!
    \***********************************/
  /***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

  __webpack_require__.r(__webpack_exports__);
  /* harmony export */ __webpack_require__.d(__webpack_exports__, {
  /* harmony export */   getProduct: () => (/* binding */ getProduct),
  /* harmony export */   unlinkTwitter: () => (/* binding */ unlinkTwitter),
  /* harmony export */   updateProfileSettings: () => (/* binding */ updateProfileSettings)
  /* harmony export */ });
  /* harmony import */ var ts_safe_cast__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ts-safe-cast */ "../../../node_modules/ts-safe-cast/index.ts");
  /* harmony import */ var $app_utils_request__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! $app/utils/request */ "../utils/request.ts");
  /* provided dependency */ var Routes = __webpack_require__(/*! $app/utils/routes */ "../utils/routes.js");



  const updateProfileSettings = async (profileSettings) => {
    const { background_color, highlight_color, font, profile_picture_blob_id, tabs, ...user } = profileSettings;
    const response = await (0,$app_utils_request__WEBPACK_IMPORTED_MODULE_1__.request)({
      method: "PUT",
      url: Routes.settings_profile_path(),
      accept: "json",
      data: {
        user,
        seller_profile: { background_color, highlight_color, font },
        profile_picture_blob_id,
        tabs
      }
    });
    const json = (0,ts_safe_cast__WEBPACK_IMPORTED_MODULE_0__.cast)(await response.json(), [9, [5, [0, "success", [8, false]], [0, "error_message", 0]], [5, [0, "success", [8, true]]]]);
    if (!json.success)
      throw new $app_utils_request__WEBPACK_IMPORTED_MODULE_1__.ResponseError(json.error_message);
  };
  const getProduct = async (id) => {
    const response = await (0,$app_utils_request__WEBPACK_IMPORTED_MODULE_1__.request)({
      method: "GET",
      url: Routes.settings_profile_product_path(id),
      accept: "json"
    });
    if (!response.ok)
      throw new $app_utils_request__WEBPACK_IMPORTED_MODULE_1__.ResponseError();
    return (0,ts_safe_cast__WEBPACK_IMPORTED_MODULE_0__.cast)(await response.json(), [5, [0, "product", [5, [0, "id", 0], [0, "name", 0], [0, "seller", [9, [8, null], [5, [0, "id", 0], [0, "name", 0], [0, "avatar_url", 0], [0, "profile_url", 0]]]], [0, "collaborating_user", [9, [8, null], [12, 1, 2, 3, 2, 2]]], [0, "covers", [6, [5, [0, "type", [9, [8, "video"], [8, "image"], [8, "unsplash"], [8, "oembed"]]], [0, "filetype", [9, [8, null], 0]], [0, "id", 0], [0, "url", 0], [0, "original_url", 0], [0, "thumbnail", [9, [8, null], 0]], [0, "width", [9, [8, null], 1]], [0, "height", [9, [8, null], 1]], [0, "native_width", [9, [8, null], 1]], [0, "native_height", [9, [8, null], 1]]]]], [0, "main_cover_id", [9, [8, null], 0]], [0, "quantity_remaining", [9, [8, null], 1]], [0, "currency_code", [9, [8, "usd"], [8, "gbp"], [8, "eur"], [8, "jpy"], [8, "inr"], [8, "aud"], [8, "cad"], [8, "hkd"], [8, "sgd"], [8, "twd"], [8, "nzd"], [8, "brl"], [8, "zar"], [8, "chf"], [8, "ils"], [8, "php"], [8, "krw"], [8, "pln"], [8, "czk"]]], [0, "long_url", 0], [0, "duration_in_months", [9, [8, null], 1]], [0, "is_sales_limited", 2], [0, "price_cents", 1], [0, "pwyw", [9, [8, null], [5, [0, "suggested_price_cents", [9, [8, null], 1]]]]], [0, "installment_plan", [9, [8, null], [5, [0, "number_of_installments", 1]]]], [0, "ratings", [9, [8, null], [10, [5, [0, "count", 1], [0, "average", 1]], [5, [0, "percentages", [7, [1], [1], [1], [1], [1]]]]]]], [0, "is_legacy_subscription", 2], [0, "is_tiered_membership", 2], [0, "is_physical", 2], [0, "custom_view_content_button_text", [9, [8, null], 0]], [0, "custom_button_text_option", [9, [8, null], [8, ""], [8, "i_want_this_prompt"], [8, "buy_this_prompt"], [8, "pay_prompt"], [8, "donate_prompt"], [8, "support_prompt"], [8, "tip_prompt"]]], [0, "permalink", 0], [0, "preorder", [9, [8, null], [5, [0, "release_date", 0]]]], [0, "description_html", [9, [8, null], 0]], [0, "is_compliance_blocked", 2], [0, "is_published", 2], [0, "is_stream_only", 2], [0, "streamable", 2], [0, "is_quantity_enabled", 2], [0, "is_multiseat_license", 2], [0, "hide_sold_out_variants", 2, true], [0, "native_type", [9, [8, "call"], [8, "bundle"], [8, "digital"], [8, "course"], [8, "ebook"], [8, "newsletter"], [8, "membership"], [8, "podcast"], [8, "audiobook"], [8, "physical"], [8, "commission"], [8, "coffee"]]], [0, "sales_count", [9, [8, null], 1]], [0, "summary", [9, [8, null], 0]], [0, "attributes", [6, [5, [0, "name", 0], [0, "value", 0]]]], [0, "free_trial", [9, [8, null], [5, [0, "duration", [5, [0, "amount", 1], [0, "unit", [9, [8, "month"], [8, "hour"], [8, "week"]]]]]]]], [0, "rental", [9, [8, null], [5, [0, "price_cents", 1], [0, "rent_only", 2]]]], [0, "recurrences", [9, [8, null], [5, [0, "default", [9, [8, "biannually"], [8, "every_two_years"], [8, "monthly"], [8, "quarterly"], [8, "yearly"]]], [0, "enabled", [6, [5, [0, "recurrence", [9, [8, "biannually"], [8, "every_two_years"], [8, "monthly"], [8, "quarterly"], [8, "yearly"]]], [0, "price_cents", 1], [0, "id", 0]]]]]]], [0, "options", [6, [5, [0, "id", 0], [0, "name", 0], [0, "quantity_left", [9, [8, null], 1]], [0, "description", 0], [0, "price_difference_cents", [9, [8, null], 1]], [0, "recurrence_price_values", [9, [8, null], [5, [0, "biannually", [5, [0, "price_cents", 1], [0, "suggested_price_cents", [9, [8, null], 1]]], true], [0, "every_two_years", [12, 1, 2, 38, 2, 1, 6, 2, 2, 1, 2], true], [0, "monthly", [12, 1, 2, 38, 2, 1, 6, 2, 2, 1, 2], true], [0, "quarterly", [12, 1, 2, 38, 2, 1, 6, 2, 2, 1, 2], true], [0, "yearly", [12, 1, 2, 38, 2, 1, 6, 2, 2, 1, 2], true]]]], [0, "is_pwyw", 2], [0, "duration_in_minutes", [9, [8, null], 1]], [0, "status", [9, [8, void 0], 0], true]]]], [0, "analytics", [5, [0, "google_analytics_id", [9, [8, null], 0]], [0, "facebook_pixel_id", [9, [8, null], 0]], [0, "free_sales", 2]]], [0, "has_third_party_analytics", 2], [0, "ppp_details", [9, [8, null], [5, [0, "country", 0], [0, "factor", 1], [0, "minimum_price", 1]]]], [0, "can_edit", 2], [0, "refund_policy", [9, [8, null], [5, [0, "title", 0], [0, "fine_print", [9, [8, null], 0]], [0, "updated_at", 0]]]], [0, "bundle_products", [6, [5, [0, "id", 0], [0, "name", 0], [0, "ratings", [9, [8, null], [12, 1, 2, 15, 2, 2, 1]]], [0, "price", 1], [0, "currency_code", [9, [8, "usd"], [8, "gbp"], [8, "eur"], [8, "jpy"], [8, "inr"], [8, "aud"], [8, "cad"], [8, "hkd"], [8, "sgd"], [8, "twd"], [8, "nzd"], [8, "brl"], [8, "zar"], [8, "chf"], [8, "ils"], [8, "php"], [8, "krw"], [8, "pln"], [8, "czk"]]], [0, "thumbnail_url", [9, [8, null], 0]], [0, "native_type", [9, [8, "call"], [8, "bundle"], [8, "digital"], [8, "course"], [8, "ebook"], [8, "newsletter"], [8, "membership"], [8, "podcast"], [8, "audiobook"], [8, "physical"], [8, "commission"], [8, "coffee"]]], [0, "url", 0], [0, "quantity", 1], [0, "variant", [9, [8, null], 0]]]]], [0, "public_files", [6, [5, [0, "id", 0], [0, "name", 0], [0, "extension", [9, [8, null], 0]], [0, "file_size", [9, [8, null], 1]], [0, "url", [9, [8, null], 0]]]]], [0, "audio_previews_enabled", 2]]], [0, "purchase", [9, [8, null], [5, [0, "id", 0], [0, "email_digest", 0], [0, "created_at", 0], [0, "review", [9, [8, null], [5, [0, "rating", 1], [0, "message", [9, [8, null], 0]], [0, "video", [9, [8, null], [5, [0, "id", 0], [0, "thumbnail_url", [9, [8, null], 0]]]]]]]], [0, "should_show_receipt", 2], [0, "is_gift_receiver_purchase", 2], [0, "content_url", [9, [8, null], 0]], [0, "show_view_content_button_on_product_page", 2], [0, "total_price_including_tax_and_shipping", 0], [0, "subscription_has_lapsed", 2], [0, "membership", [9, [8, null], [5, [0, "tier_name", [9, [8, null], 0]], [0, "tier_description", [9, [8, null], 0]], [0, "manage_url", 0]]]]]]], [0, "discount_code", [9, [8, null], [5, [0, "valid", [8, false]], [0, "error_code", [9, [8, "sold_out"], [8, "invalid_offer"], [8, "inactive"], [8, "unmet_minimum_purchase_quantity"]]]], [5, [0, "valid", [8, true]], [0, "code", 0], [0, "discount", [9, [10, [5, [0, "type", [8, "percent"]], [0, "percents", 1]], [5, [0, "product_ids", [9, [8, null], [6, 0]]], [0, "expires_at", [9, [8, null], 0]], [0, "minimum_quantity", [9, [8, null], 1]], [0, "duration_in_billing_cycles", [9, [8, null], [8, 1]]], [0, "minimum_amount_cents", [9, [8, null], 1]]]], [10, [5, [0, "type", [8, "fixed"]], [0, "cents", 1]], [12, 3, 2, 3, 3, 2, 1, 2]]]]]]], [0, "wishlists", [6, [10, [5, [0, "id", 0], [0, "name", 0]], [5, [0, "selections_in_wishlist", [6, [5, [0, "variant_id", [9, [8, null], 0]], [0, "recurrence", [9, [8, null], 0]], [0, "rent", 2], [0, "quantity", 1]]]]]]]]]);
  };
  const unlinkTwitter = async () => {
    const response = await (0,$app_utils_request__WEBPACK_IMPORTED_MODULE_1__.request)({
      method: "POST",
      url: Routes.unlink_twitter_settings_connections_path(),
      accept: "json"
    });
    const json = (0,ts_safe_cast__WEBPACK_IMPORTED_MODULE_0__.cast)(await response.json(), [9, [5, [0, "success", [8, false]], [0, "error_message", 0]], [5, [0, "success", [8, true]]]]);
    if (!json.success)
      throw new $app_utils_request__WEBPACK_IMPORTED_MODULE_1__.ResponseError(json.error_message);
  };


  /***/ })

  }]);
  //# sourceMappingURL=components_Profile_EditSections_tsx-components_Profile_EditSections_WishlistsSectionView_tsx.js.map
